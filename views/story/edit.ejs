<%- include('../partials/head') %>

<style>
  body {
    background: linear-gradient(135deg, #f8f9fa, #e3f2fd);
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }

  .edit-wrapper {
    width: 100%;
    max-width: 900px; 
    background-color: white;
    border-radius: 20px;
    padding: 50px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    margin-top: 60px;
  }

  .form-floating label {
    font-weight: 500;
    color: #495057;
  }

  .btn-custom {
    background-color: #0077b6;
    border: none;
  }

  .btn-custom:hover {
    background-color: #023e8a;
  }

  h1 {
    color: #023e8a;
    font-weight: 700;
  }
</style>

<div class="container d-flex justify-content-center">
  <div class="edit-wrapper">
    <h1 class="text-center mb-4">Edit “<%= foundStory.title %>”</h1>
    <form action="/story/<%= foundStory._id %>?_method=PUT" method="POST">
      
      <div class="form-floating mb-4">
        <input
          type="text"
          class="form-control"
          id="title"
          name="title"
          value="<%= foundStory.title %>"
          placeholder="Story Title"
          required
        />
        <label for="title">Story Title</label>
      </div>

        <div class="form-floating mb-4">
        <select
          class="form-select"
          id="genre"
          name="genre"
          aria-label="Select genre"
        >
          <% const genres = ['Horror', 'Drama', 'Comedy', 'Adventure', 'Fantasy']; %>
          <% genres.forEach(g => { %>
            <option value="<%= g %>" <%= foundStory.genre === g ? 'selected' : '' %>><%= g %></option>
          <% }); %>
        </select>
        <label for="genre">Genre</label>
      </div>

      <div class="form-floating mb-4">
        <textarea
          class="form-control"
          placeholder="Edit your story"
          id="story"
          name="story"
          style="height: 200px"
        ><%= foundStory.story %></textarea>
        <label for="story">The story</label>
      </div>

      <button class="btn btn-custom w-100 py-2" type="submit">
        Update Story
      </button>
    </form>
  </div>
</div>


</body>
</html>